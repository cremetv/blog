"use strict";var getToken=function(){return new Promise(function(n,t){var e=new XMLHttpRequest;e.open("POST","../instagram.json",!0),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.addEventListener("load",function(){var e=JSON.parse(this.response);e.accessToken?n(e.accessToken):t("error")}),e.send()})},getInstaFeed=function(e){var n="https://api.instagram.com/v1/users/self/media/recent/?access_token="+e,t=new XMLHttpRequest;t.open("GET",n,!0),t.withCredentials=!0,t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.setRequestHeader("Access-Control-Allow-Origin","*"),t.addEventListener("load",function(){var e=JSON.parse(this.repsone);if(console.log(e),e){var n=e.data,s=0;n.reverse().forEach(function(e){if(!(5<=s)){var n=e.caption.text,t=e.link,o=e.images.standard_resolution.url;console.log(n),console.log(t),console.log(o),s++}})}}),t.send()};document.addEventListener("DOMContentLoaded",function(){getToken().then(function(e){getInstaFeed(e)},function(e){console.log("error: "+e)})});